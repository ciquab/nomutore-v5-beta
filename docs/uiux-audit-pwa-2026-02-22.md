# NOMUTORE PWA UI/UX 点検レポート（2026-02-22）

## 点検の前提
- 基準: ユーザー提示の「PWA向けモバイルUI/UXデザイン実務ガイド」
- 対象: モバイルWeb/PWA UI（`index.html`, `style.css`, `main.js`, `service-worker.js`）
- 優先度: P0（必須）/P1（重要）/P2（改善）

---

## 先に結論
全体として、**モバイル前提の構造（ボトムナビ、44px前後のボタン、focus-visible、reduce motion、SW更新通知）**はよく整っています。
一方で、ガイド基準で見ると、次の5点は優先的に改善を推奨します。

1. **P0**: 初期表示を「隠す」制御が強く、体感速度の悪化リスクがある
2. **P0**: オフライン時の「状態可視化（バナー/説明）」が不足
3. **P1**: iOS/Android差分を踏まえた「インストール導線」が見当たらない
4. **P1**: セーフエリア対応クラスはあるが、固定UIへ適用されていない
5. **P2**: ボトムナビの非アクティブ項目ラベル非表示で発見性が下がる

---

## 改善提案一覧

| 優先度 | 観点 | 現状 | 改善案 |
|---|---|---|---|
| P0 | 初回表示速度 / 可視性 | `body:not(.app-ready)`で`header/main/nav/FAB`を非表示にし、さらに`pointer-events:none`を3秒入れている。初期表示で「何も触れない」「何も見えない」時間が発生しやすい。 | 「非表示で待つ」ではなく、**最小シェル即時表示 + 遅延データ描画**に寄せる。`pointer-events:none`の全体ロックは廃止し、必要部分のみローディング状態を出す。 |
| P0 | オフラインUX | SW側にはナビゲーションfallbackがあるが、UI側でオフライン状態を利用者へ知らせる導線が薄い。 | `online/offline`イベントで**常設バナー**を追加。送信系は「オフライン中（下書き保存済み）」を明示し、復帰時に再送導線を表示。 |
| P1 | インストール導線 | 更新通知はあるが、インストール促進（特にiOS向け手順カード/Android向けCTA）が確認できない。 | 再訪時・価値体験後に、**OS判定で導線分岐**。iOSは「共有→ホーム画面に追加」手順、Androidは`beforeinstallprompt`を文脈CTAで提示。 |
| P1 | セーフエリア | `.pb-safe`は定義されているが、ボトムナビ/FABは`bottom-6`や`bottom-24`の固定値中心。 | 固定UIに`max(既定余白, env(safe-area-inset-bottom))`を適用。キーボード表示時も含めてiPhone実機で干渉を検証。 |
| P2 | ナビ発見性 | 非アクティブナビ項目で`label`を非表示にしている。初見で意味推測が必要。 | 初回数回のみラベル常時表示、または短縮ラベル常時表示。少なくともオンボーディング中は名称を見せる。 |

---

## 良い実装（維持推奨）
- **フォーカス可視化**（`focus-visible`）とスキップリンクがあり、キーボード操作への配慮がある。
- **`prefers-reduced-motion`対応**で、過剰なアニメーション抑制が実装されている。
- **Service Worker更新通知**（新バージョン利用可）があり、強制更新しない方針に近い。
- 主要ボタンで`w-11 h-11`（44px相当）を採用しており、タップターゲットは概ね確保されている。

---

## 優先実行順（最短）
1. **P0** 初期表示ロック緩和（app shell即時表示）
2. **P0** オフラインバナー + 下書き/再送導線
3. **P1** インストール導線（iOS/Android分岐）
4. **P1** セーフエリア再調整（固定UI全体）
5. **P2** ナビラベルの発見性改善

